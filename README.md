# pre-onboarding-12th-3-5

- ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ê³¼ ê²€ìƒ‰ì–´ ìºì‹± ê¸°ëŠ¥ì´ ìˆëŠ” ê²€ìƒ‰ì°½ì„ êµ¬í˜„í•˜ëŠ” ê³¼ì œì…ë‹ˆë‹¤.
- ì¶”ì²œ ê²€ìƒ‰ì–´ëŠ” í‚¤ë³´ë“œ ìƒí•˜ í‚¤ë¡œ íƒìƒ‰ì´ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.

### ê¸°ìˆ  ìŠ¤íƒ

<div>
  <img src="https://img.shields.io/badge/react-61DAFB?style=flat&logo=react&logoColor=white">
  <img src="https://img.shields.io/badge/typescript-3178C6?style=flat&logo=typescript&logoColor=white">
  <img src="https://img.shields.io/badge/sass-DB7093?style=flat&logo=sass&logoColor=white">
  <img src="https://img.shields.io/badge/axios-5A29E4?style=flat&logo=axios&logoColor=white">
</div>

## ğŸ—“ï¸ í”„ë¡œì íŠ¸ ê¸°ê°„

### 2023.9.5 ~ 2023.9.8 (4ì¼)

<br />

## ğŸ“Œ í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•

1. Clone the repo

```javascript
$ git clone https://github.com/wanted-pre-onboarding-12th-team-5/pre-onboarding-12th-3-5.git
```

2. Install NPM packages

```javascript
$ npm install
```

3. Getting Started

```javascript
$ npm start
```

<br/>


## ğŸš€ ë°°í¬

### [ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ì¸í„´ì‹­ 3ì°¨ ê³¼ì œ - 5íŒ€ ë°°í¬ ë§í¬]()


## â­ï¸ íŒ€ êµ¬ì„±ì› ë° ì—­í• 

|                          ìµœì§€ìœ¤                           |                           ìœ ì§€í˜œ                           |                           ê¹€íƒœê·¼                           |                          ìµœì„ í˜¸                           |                          ì´íš¨ì‹                           |                 ê¹€í˜•ì¼(íŒ€ì¥)                 |
| :-------------------------------------------------------: | :--------------------------------------------------------: | :--------------------------------------------------------: | :-------------------------------------------------------: | :-------------------------------------------------------: | :------------------------------------------: |
|          [chichoon](https://github.com/chichoon)          |        [dbwlgp1yng](https://github.com/dbwlgp1yng)         |       [taegeun1111](https://github.com/taegeun1111)        |        [preferchoi](https://github.com/preferchoi)        |           [teetee6](https://github.com/teetee6)           | [brother1](https://github.com/brother1-4752) |
| ![](https://avatars.githubusercontent.com/u/37893979?v=4) | ![](https://avatars.githubusercontent.com/u/126330595?v=4) | ![](https://avatars.githubusercontent.com/u/122959190?v=4) | ![](https://avatars.githubusercontent.com/u/74041004?v=4) | ![](https://avatars.githubusercontent.com/u/17748068?v=4) |            ![](https://avatars.githubusercontent.com/u/60454376?v=4)          |
|                 ë””ìì¸ ë° README             |              ê²€ìƒ‰ì–´ í‚¤ë³´ë“œ íƒìƒ‰ ê¸°ëŠ¥            |                            ê²€ìƒ‰ì–´ ìºì‹± ê¸°ëŠ¥                            |         ê²€ìƒ‰ API í˜¸ì¶œ íšŸìˆ˜ ê°ì†Œ ì „ëµ               |               í”„ë¡œì íŠ¸ ë°°í¬                         |                í”„ë¡œì íŠ¸ ì…‹íŒ…                 |

<br />


## [ğŸ“‹ í˜‘ì—… ì»¨ë²¤ì…˜](https://www.notion.so/brotherone/5-fd85a49386724f34abe49a309e9b9e3e)

### 1. Husky && lint-staged (commitlint ì ìš©)

### 2. Commit message

| Tag Name | Explanation                                                            |
| -------- | ---------------------------------------------------------------------- |
| build    | ì‹œìŠ¤í…œ ë˜ëŠ” ì™¸ë¶€ ì¢…ì†ì„±ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ê²½ì‚¬í•­ (npm, yarn ë ˆë²¨)      |
| chore    | ì½”ë“œë‚˜ ê¸°ëŠ¥ ë³€ê²½ ì—†ëŠ” ë‹¨ìˆœ ìˆ˜ì •                                        |
| docs     | documentation ë³€ê²½                                                     |
| feat     | ìƒˆë¡œìš´ ê¸°ëŠ¥                                                            |
| fix      | ë²„ê·¸ ìˆ˜ì •                                                              |
| refactor | ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ë³€ê²½, ë¦¬íŒ©í† ë§             |
| style    | ì½”ë“œ ì˜ë¯¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ë³€ê²½ì‚¬í•­(formatting, colons, white space) |

### 3. Issue && PR í…œí”Œë¦¿ í†µì¼

### 4. Git-flow branchì „ëµ(feat/ì„¸ë¶€ê¸°ëŠ¥ -> develop -> master)

<br />

### ğŸ—‚ï¸ í´ë” êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚components
 â”ƒ â”— ğŸ“‚InputSearch
 â”ƒ   â”— ğŸ“œInputSearch.tsx 
 â”£ ğŸ“‚constants
 â”ƒ â”£ ğŸ“œcacheInfo.ts
 â”ƒ â”— ğŸ“œapiUrl.ts
 â”£ ğŸ“‚apis
 â”ƒ â”£ ğŸ“œfinderApi.ts
 â”ƒ â”— ğŸ“œindex.ts
 â”£ ğŸ“‚service
 â”ƒ â”— ğŸ“œcacheStorage.ts
 â”£ ğŸ“‚types
 â”ƒ â”— ğŸ“œrecommend.ts
 â”£ ğŸ“œApp.tsx
 â”— ğŸ“œindex.tsx
```


## ìƒì„¸ ê¸°ëŠ¥ ë° êµ¬í˜„ ë°©ë²•

### API í˜¸ì¶œë³„ ë¡œì»¬ ìºì‹± ê¸°ëŠ¥ + ê²€ìƒ‰ë°” ì»´í¬ë„ŒíŠ¸

![Sep-08-2023 20-26-27](https://github.com/wanted-pre-onboarding-12th-team-5/pre-onboarding-12th-3-5/assets/37893979/c2b57fdf-a2ab-40b8-9072-6a9c52d5b40c)

- LocalStorageëŠ” ë™ê¸°ì‹ì´ë©° ê¸°ë³¸ ìŠ¤ë ˆë“œë¥¼ ì°¨ë‹¨í•˜ë¯€ë¡œ ì‚¬ìš©ì„ í”¼í•´ì•¼ í•˜ê³ , ì•½ 5MBë¡œ ì œí•œë˜ë©° ë¬¸ìì—´ë§Œ í¬í•¨í•  ìˆ˜ ìˆì§€ë§Œ, Cache Storage APIì˜ ê²½ìš° ë§ì´ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë©° ì ì–´ë„ ìˆ˜ë°± MB, ê²½ìš°ì— ë”°ë¼ ìˆ˜ GB ì´ìƒê¹Œì§€ë„ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Cache Storageë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
- apië¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì €ì¥í•  ë•Œ cache storageë¥¼ í†µí•´ ì‚¬ìš©í•  í‚¤ì™€ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ê³ , ë°ì´í„°ë¥¼ ìºì‹œì— ì €ì¥ í›„ ì¶”ê°€ë¡œ headerì— ë§Œë£Œì¼ì„ í˜„ì¬ ì‹œê°„ì— ì •í•´ë‘” ì‹œê°„ì„ ë”í•´ ì„¤ì •í•´ì¤˜ì„œ apië¥¼ í˜¸ì¶œí•  ë•Œ íŠ¹ì • í‚¤ë¡œ ì €ì¥ëœ ë°ì´í„°ë¥¼ í™•ì¸í•˜ê³ , ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê·¸ ë°ì´í„°ì˜ ë§Œë£Œì¼ì„ í˜„ì¬ ì‹œê°„ê³¼ ë¹„êµí•œ í›„ ë§Œë£Œ ë˜ì—ˆë‹¤ë©´ í•´ë‹¹ í‚¤ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•œ í›„ ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.

<details>
  
<summary>ì½”ë“œë³´ê¸°</summary>
  
```ts
    export const getCacheData = async (debouncedValue: string) => {
      try {
        const cacheStorage = await caches.open(CACHE_NAME);
        const cachedResponse = await cacheStorage.match(debouncedValue);
        if (cachedResponse) {
          const expirationTime = Number(cachedResponse.headers.get('Expiration'));
          if (expirationTime && expirationTime < Date.now()) {
            await cacheStorage.delete(debouncedValue);
          }
          return await cachedResponse.json();
        } else {
          return false;
        }
      } catch (error) {
        console.error('Cache Data Error : ', error);
        return false;
      }
    };
    
    export const setCacheData = async (debouncedValue: string, response: RecommendType[]) => {
      if (debouncedValue.length > 0) {
        const cache = await caches.open(CACHE_NAME);
        const expirationTime = Date.now() + CACHE_EXPIRATION_TIME;
        const init = {
          headers: {
            'Content-Type': 'application/json',
            Expiration: expirationTime.toString(),
          },
        };
        const CachedData = new Response(JSON.stringify(response), init);
        await cache.put(debouncedValue, CachedData);
      }
    };
```

</details>

<br />

### API í˜¸ì¶œ íšŸìˆ˜ ì¤„ì´ê¸° ì „ëµ

```ts
useEffect(() => {
  const timerId = setTimeout(() => {
    fetchRecommendations();
  }, 500);
  return () => {
    clearTimeout(timerId);
  };
}, [inputValue]);
```

- ìºì‹œ ìŠ¤í† ë¦¬ì§€ë¥¼ ì´ìš©í•˜ì—¬ ìºì‹œë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œì„ ì¤„ì¼ ìˆ˜ ìˆì—ˆê³ , debouncing ì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ê°’ì´ ë³€í•  ë•Œë§ˆë‹¤ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì¼ì • ì‹œê°„ì´ ì§€ë‚œ í›„ ë‹¨ í•œ ë²ˆë§Œ APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- Debouncingì€ `useEffect` ë‚´ë¶€ì—ì„œ `setTimeout`ì„ ê±¸ê³ , ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ `clearTimeout` ì„ ë°œë™í•˜ì—¬ ì´ì „ ì´ë²¤íŠ¸ê°€ ì§€ì›Œì§€ë„ë¡ í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

<br />

### í‚¤ë³´ë“œë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ ì´ë™ ê¸°ëŠ¥

![Sep-08-2023 20-34-10](https://github.com/wanted-pre-onboarding-12th-team-5/pre-onboarding-12th-3-5/assets/37893979/e21d8b8e-f1ad-4088-a1ad-136e561bbed9)

```ts
  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {
    if (event.key === 'ArrowUp') {
      if (selected > 0) {
        event.preventDefault();
        setSelected((prevSelected) => prevSelected - 1);
      }
    } else if (event.key === 'ArrowDown' && selected < recommend.length - 1) {
      event.preventDefault();
      setSelected((prevSelected) => prevSelected + 1);
    }
  };
```

- input íƒœê·¸ì— keyDown ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•˜ì—¬ ìƒí•˜ ë²„íŠ¼ì´ ëˆŒë¦´ ë•Œë§ˆë‹¤ ì¸ë±ìŠ¤ë¥¼ ë³€í™”ì‹œì¼œ ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ ì´ë™ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts
  useEffect(() => {
    const selectedElement = document.querySelector('.selected');
    if (selectedElement) {
      selectedElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  }, [selected]);
```

- scrollIntoView ë¥¼ ì´ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ì´ ê°™ì´ ë‚´ë ¤ê°€ê±°ë‚˜ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
